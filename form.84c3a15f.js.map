{"mappings":"IAkBAA,EAAe,C,KAlBF,CAACC,EAAKC,KACjB,IACE,MAAMC,EAAkBC,KAAKC,UAAUH,GACvCI,aAAaC,QAAQN,EAAKE,GAC1B,MAAOK,GACPC,QAAQD,MAAM,oBAAqBA,EAAME,W,KAIhCT,IACX,IACE,MAAME,EAAkBG,aAAaK,QAAQV,GAC7C,OAA2B,OAApBE,OAA2BS,EAAYR,KAAKS,MAAMV,GACzD,MAAOK,GACPC,QAAQD,MAAM,oBAAqBA,EAAME,YCZ7CD,QAAQK,IAAId,GACZ,MAAMe,EAAOC,SAASC,cAAc,kBA4BpC,WACE,MAAMC,EAAYlB,EAAWmB,KAAK,WAElC,IAAKD,EACH,OAEF,MAAME,EAAehB,KAAKS,MAAMK,GAChCT,QAAQK,IAAIM,GACZC,OAAOC,QAAQF,GAAcG,SAAQ,EAAEC,EAAMtB,MAC3Ca,EAAKU,SAASD,GAAMtB,MAAQA,KAnChCwB,GAwBAX,EAAKY,iBAAiB,SAtBtB,SAAqBC,GACnB,MAAMJ,KAAEA,EAAItB,MAAEA,GAAU0B,EAAMC,OAE9B,IAAIX,EAAYlB,EAAWmB,KAAK,WAChCD,EAAYA,GAAwB,GACpCA,EAAUM,GAAQtB,EAClBF,EAAW8B,KAAK,UAAWZ","sources":["src/js/storage.js","src/js/form.js"],"sourcesContent":["const save = (key, value) => {\n  try {\n    const serializedState = JSON.stringify(value);\n    localStorage.setItem(key, serializedState);\n  } catch (error) {\n    console.error('Set state error: ', error.message);\n  }\n};\n\nconst load = key => {\n  try {\n    const serializedState = localStorage.getItem(key);\n    return serializedState === null ? undefined : JSON.parse(serializedState);\n  } catch (error) {\n    console.error('Get state error: ', error.message);\n  }\n};\n\nexport default {\n  save,\n  load,\n};\n","import storageAPI from './storage';\n\nconsole.log(storageAPI);\nconst form = document.querySelector('.contact-form');\nconst formData = {};\ninitPage();\n\nfunction handleInput(event) {\n  const { name, value } = event.target;\n\n  let savedData = storageAPI.load('formKey');\n  savedData = savedData ? savedData : {};\n  savedData[name] = value;\n  storageAPI.save('formKey', savedData);\n  // try {\n  //   let savedData = localStorage.getItem('formKey');\n  //   if (savedData) {\n  //     savedData = JSON.parse(savedData);\n  //   } else {\n  //     savedData = {};\n  //   }\n  //   const formDataJSON = JSON.stringify(savedData);\n  //   console.log(formDataJSON);\n  //   localStorage.setItem('formKey', formDataJSON);\n  // } catch (error) {\n  //   console.log(error.message);\n  // }\n}\n\nform.addEventListener('input', handleInput);\n\nfunction initPage() {\n  const savedData = storageAPI.load('formKey');\n\n  if (!savedData) {\n    return;\n  }\n  const savedDataObj = JSON.parse(savedData);\n  console.log(savedDataObj);\n  Object.entries(savedDataObj).forEach(([name, value]) => {\n    form.elements[name].value = value;\n  });\n}\n"],"names":["$3fff5e8daf4b13a6$export$2e2bcd8739ae039","key","value","serializedState","JSON","stringify","localStorage","setItem","error","console","message","getItem","undefined","parse","log","$86f33108e3380025$var$form","document","querySelector","savedData","load","savedDataObj","Object","entries","forEach","name","elements","$86f33108e3380025$var$initPage","addEventListener","event","target","save"],"version":3,"file":"form.84c3a15f.js.map"}