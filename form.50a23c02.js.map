{"mappings":"IA0BAA,EAAe,C,KA1BF,CAACC,EAAKC,KACjB,IACE,MAAMC,EAAkBC,KAAKC,UAAUH,GACvCI,aAAaC,QAAQN,EAAKE,GAC1B,MAAOK,GACPC,QAAQD,MAAM,oBAAqBA,EAAME,W,KAIhCT,IACX,IACE,MAAME,EAAkBG,aAAaK,QAAQV,GAC7C,OAA2B,OAApBE,OAA2BS,EAAYR,KAAKS,MAAMV,GACzD,MAAOK,GACPC,QAAQD,MAAM,oBAAqBA,EAAME,W,OAI9BT,IACb,IACGK,aAAaQ,WAAWb,GACzB,MAAOO,GACPC,QAAQD,MAAM,oBAAqBA,EAAME,YCpB7C,MAAMK,EAAOC,SAASC,cAAc,kBAepC,WACE,MAAMC,EAAYlB,EAAWmB,KAAK,WAClC,IAAKD,EACH,OAEFE,OAAOC,QAAQH,GAAWI,SAAQ,EAAEC,EAAMrB,MACxCa,EAAKS,SAASD,GAAMrB,MAAQA,KApBhCuB,GAYAV,EAAKW,iBAAiB,SAVtB,SAAqBC,GACnB,MAAMJ,KAAEA,EAAIrB,MAAEA,GAAUyB,EAAMC,OAE9B,IAAIV,EAAYlB,EAAWmB,KAAK,WAChCD,EAAYA,GAAwB,GACpCA,EAAUK,GAAQrB,EAClBF,EAAW6B,KAAK,UAAWX,MAgB7BH,EAAKW,iBAAiB,UAEtB,SAAuBC,GACrBA,EAAMG,iBACN,MACEN,UAAUD,KAAEA,EAAIQ,MAAEA,EAAKrB,QAAEA,IACvBiB,EAAMK,cACVvB,QAAQwB,IAAI,CAACV,KAAMA,EAAKrB,MAAO6B,MAAOA,EAAM7B,MAAOQ,QAASA,EAAQR,QACpEyB,EAAMK,cAAcE,QACpBlC,EAAWmC,OAAO","sources":["src/js/storage.js","src/js/form.js"],"sourcesContent":["const save = (key, value) => {\n  try {\n    const serializedState = JSON.stringify(value);\n    localStorage.setItem(key, serializedState);\n  } catch (error) {\n    console.error('Set state error: ', error.message);\n  }\n};\n\nconst load = key => {\n  try {\n    const serializedState = localStorage.getItem(key);\n    return serializedState === null ? undefined : JSON.parse(serializedState);\n  } catch (error) {\n    console.error('Get state error: ', error.message);\n  }\n};\n\nconst remove = key => {\n  try {\n     localStorage.removeItem(key);\n  } catch (error) {\n    console.error('Get state error: ', error.message);\n  }\n};\n\nexport default {\n  save,\n  load,\n  remove,\n};\n\n","import storageAPI from './storage';\n\nconst form = document.querySelector('.contact-form');\ninitPage();\n\nfunction handleInput(event) {\n  const { name, value } = event.target;\n\n  let savedData = storageAPI.load('formKey');\n  savedData = savedData ? savedData : {};\n  savedData[name] = value;\n  storageAPI.save('formKey', savedData);\n\n}\n\nform.addEventListener('input', handleInput);\n\nfunction initPage() {\n  const savedData = storageAPI.load('formKey');\n  if (!savedData) {\n    return;\n  }\n  Object.entries(savedData).forEach(([name, value]) => {\n    form.elements[name].value = value;\n  });\n}\n\nform.addEventListener('submit', handleSubmit);\n\nfunction handleSubmit (event) {\n  event.preventDefault();\n  const {\n    elements: { name, email, message }\n  } = event.currentTarget;\n  console.log({name: name.value, email: email.value, message: message.value});\n  event.currentTarget.reset();\n  storageAPI.remove('formKey')\n}\n"],"names":["$3fff5e8daf4b13a6$export$2e2bcd8739ae039","key","value","serializedState","JSON","stringify","localStorage","setItem","error","console","message","getItem","undefined","parse","removeItem","$86f33108e3380025$var$form","document","querySelector","savedData","load","Object","entries","forEach","name","elements","$86f33108e3380025$var$initPage","addEventListener","event","target","save","preventDefault","email","currentTarget","log","reset","remove"],"version":3,"file":"form.50a23c02.js.map"}